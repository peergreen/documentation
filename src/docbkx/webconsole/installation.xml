<?xml version="1.0" encoding="UTF-8"?>
<chapter version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Installation</title>

  <para>Peergreen web console needs a profile of Peergreen Server with
    HttpService. Go to <link xlink:href="http://www.peergreen.com/Download/Community+Peergreen+Server">Peergreen Server Download page</link>
    and download Tomcat or Web Application Server profile.</para>

  <para>Once you have downloaded Peergreen Server, download the Peergreen web console jar file from this address and copy it to
    deploy/ directory</para>

  <para>Now, Peergreen web console is well installed. You can check
    by typing <literal>lb</literal> command in server shell and see that the
    bundle was correctly installed :</para>

  <screen>admin@peergreen-platform$ lb

...
45|Active     |    1|Peergreen Web Console Community Edition (1.0.0.SNAPSHOT)
...</screen>

  <para>By default, an instance of Peergreen Web Console is created with the alias <literal>/admin</literal>
  </para>

  <para>To create an instance of the web console, use config admin xml
    file. Community edition allows to create secured and unsecured web
    console, so the following config admin file will instantiate both
    :</para>

  <programlisting  language="xml">&lt;configadmin xmlns="http://jonas.ow2.org/ns/configadmin/1.0"&gt;

    &lt;factory-configuration pid="com.peergreen.webconsole.development" xml:id="development-mode"&gt;
      &lt;property name="console.name"&gt;Peergreen Administration Console&lt;/property&gt;
      &lt;property name="console.alias"&gt;/admin&lt;/property&gt;
      &lt;property name="default.roles"&gt;admin&lt;/property&gt;
    &lt;/factory-configuration&gt;

    &lt;factory-configuration pid="com.peergreen.webconsole.production" xml:id="production-mode"&gt;
      &lt;property name="console.name"&gt;Peergreen Secured Administration Console&lt;/property&gt;
      &lt;property name="console.alias"&gt;/secureadmin&lt;/property&gt;
    &lt;/factory-configuration&gt;

&lt;/configadmin&gt;</programlisting>
  <note>
    <para><literal>console.name</literal> is the console title</para>
    <para><literal>console.alias</literal> is the console context root</para>
    <para><literal>default.roles</literal> is used only for Community Edition. Defines roles for the default user</para>
  </note>

  <para>Everything is ready now, go to your favorite web browser and type
    the address <literal><link xlink:href="http://localhost:9000/admin">http://localhost:9000/admin</link></literal>. You will arrive directly to
    Peergreen web console content.
  </para>

  <mediaobject>
    <imageobject role="html">
      <imagedata fileref="../images/webconsole/unsecured.png"/>
    </imageobject>

    <imageobject role="fo">
      <imagedata fileref="../images/webconsole/unsecured.png"
                 scale="30"/>
    </imageobject>
  </mediaobject>

  <para>
    If you try
    <literal><link xlink:href="http://localhost:9000/securedadmin">http://localhost:9000/securedadmin</link></literal> you must to login before access to
    the content.
  </para>

  <mediaobject>
    <imageobject role="html">
      <imagedata fileref="../images/webconsole/secured.png"/>
    </imageobject>

    <imageobject role="fo">
      <imagedata fileref="../images/webconsole/secured.png"
                 scale="30"/>
    </imageobject>
  </mediaobject>

  <para>May be you are looking for username and password? OK, try
    <literal>admin</literal> as username and <literal>peergreen</literal> as
    password. Enjoy :).
  </para>
</chapter>
